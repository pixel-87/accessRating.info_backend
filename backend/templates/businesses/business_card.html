<a href="/businesses/{{ business.id }}" class="no-underline text-inherit"
  hx-get="{{ api_base }}/api/v1/businesses/{{ business.id }}/fragment/" hx-target="#main-content" hx-swap="innerHTML"
  hx-push-url="/businesses/{{ business.id }}">
  <div class="bg-white rounded-lg shadow-md p-6">
    <!-- Close Button -->
    <div class="flex justify-between items-start mb-4">
      <h3 class="text-xl font-bold text-gray-900">{{ business.name }}</h3>
      <button class="text-gray-400 hover:text-gray-600 text-xl close-business-panel"
        aria-label="Close business details panel" tabindex="0">
        ×
      </button>
    </div>

    <!-- Business Type -->
    <div class="mb-4">
      <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">
        {{ business.get_business_type_display }} {% if business.specialisation %}
        - {{ business.specialisation }}{% endif %}
      </span>
    </div>

    <!-- Accessibility Rating -->
    {% if business.accessibility_level %}
    <div class="mb-4">
      <div class="flex items-center mb-2">
        <span class="text-sm font-medium text-gray-700 mr-2">Accessibility Level:</span>
        <span class="bg-green-100 text-green-800 text-sm px-2 py-1 rounded">
          Level {{ business.accessibility_level }}
        </span>
      </div>
      <p class="text-xs text-gray-600">
        {{ business.accessibility_level_display }}
      </p>
    </div>
    {% endif %}

    <!-- Description -->
    {% if business.description %}
    <p class="text-gray-700 text-sm mb-4">{{ business.description }}</p>
    {% endif %}

    <!-- Location -->
    <div class="mb-4">
      <p class="text-sm text-gray-600">
        <span class="font-medium">📍</span>
        {{ business.address }}, {{ business.city }} {{ business.postcode }}
      </p>
    </div>

    <!-- Accessibility Features -->
    {% if business.accessibility_features %}
    <div class="mb-4">
      <p class="text-xs text-gray-500 mb-1">Accessibility Features:</p>
      <p class="text-sm text-gray-700">{{ business.accessibility_features }}</p>
    </div>
    {% endif %}

    <!-- Accessibility Barriers -->
    {% if business.accessibility_barriers %}
    <div class="mb-4">
      <p class="text-xs text-gray-500 mb-1">Accessibility Notes:</p>
      <p class="text-sm text-gray-700">{{ business.accessibility_barriers }}</p>
    </div>
    {% endif %}

    <!-- Opening Times -->
    {% if business.opening_times %}
    <div class="mb-4">
      <p class="text-xs text-gray-500 mb-1">Opening Times:</p>
      <p class="text-sm text-gray-700">{{ business.opening_times }}</p>
    </div>
    {% endif %}

    <!-- Contact Info -->
    <div class="flex flex-wrap gap-2 text-sm">
      {% if business.phone %}
      <a href="tel:{{ business.phone }}" class="text-blue-600 hover:text-blue-800">
        📞 {{ business.phone }}
      </a>
      {% endif %} {% if business.website %}
      <a href="{{ business.website }}" target="_blank" class="text-blue-600 hover:text-blue-800">
        🌐 Website
      </a>
      {% endif %} {% if business.email %}
      <a href="mailto:{{ business.email }}" class="text-blue-600 hover:text-blue-800">
        ✉️ Email
      </a>
      {% endif %}
    </div>
  </div>
</a>